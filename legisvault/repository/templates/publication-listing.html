{% extends "sections/base.html" %}
<!--prettier.ignore-->
{% load static %}

<!--prettier.ignore-->
{% block title %} {% if data.heading == "SB Resolution" %} Sangguniang Bayan Resolutions {% elif data.heading == "Municipal Ordinance"%} Municipal Ordinances {% elif data.heading == "Appropriation Ordinance"%} Appropriation Ordinances {% endif%} {% endblock %}

<!--prettier.ignore-->
{% block main %}

<main class="flex min-h-3/4 flex-col">
  <div class="container mx-auto mt-8 p-2 lg:px-0">
    <!-- Table caption with search -->
    <div class="flex items-center justify-between pb-4 mb-5 bg-white dark:bg-gray-900 p-8 border-b-2 border-[#D9D9D9] flex-col md:flex-row">
      <div>
        <h2 class="text-2xl lg:text-4xl font-bold text-gray-900 dark:text-white">{{ heading }}s</h2>
        <p class="text-sm text-gray-500 dark:text-gray-400 text-pretty">Legal measures/documents are official records such as resolutions, ordinances, laws, or regulations that establish, modify, or enforce rules and policies.</p>
      </div>
      <label for="table-search" class="sr-only">Search</label>
      <div class="relative w-full md:w-80 mt-4 lg:mt-0">
        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
          <svg class="w-5 h-5 text-gray-500 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
          </svg>
        </div>
        <input type="text" id="search-box" class="block w-full md:w-80 p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Documents" />
      </div>
    </div>

    {% if not list %}

    <h2 class="block text-4xl font-bold italic text-center mt-32">No data</h2>

    {% else %}
    <!-- Start of Accordion -->
    <div id="accordion-collapse" data-accordion="collapse">
      {% for year in years %}

      <h2 id="accordion-collapse-heading-{{year}}">
        <button type="button" class="flex bg-white items-center justify-between w-full p-5 border-2 font-medium text-gray-500 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:focus:text-black dark:focus:bg-white dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white dark:bg-gray-900 gap-3 dark:hover:text-black" data-accordion-target="#accordion-collapse-body-{{year}}" aria-expanded="true" aria-controls="accordion-collapse-body-{{year}}">
          <span class="block text-3xl">{{year}}</span>
          <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5" />
          </svg>
        </button>
      </h2>
      <div id="accordion-collapse-body-{{year}}" class="hidden" aria-labelledby="accordion-collapse-heading-{{year}}">
        <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
          <!-- Table -->
          <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
            <tbody>
              {% if not list %}
              <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                <td class="px-6 py-4 flex gap-4 items-stretch">
                  <h2>No Data</h2>
                </td>
              </tr>

              {% else %} {% for resolution in list %} {% if resolution.year == year %}
              <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-red-100 hover:cursor-pointer">
                <td class="px-6 py-4 flex gap-4 items-stretch">
                  <!-- Image wrapper: height follows the text -->
                  <div class="flex items-center h-full">
                    <svg viewBox="0 0 448 512" width="80" class="hidden lg:block">
                      <path fill="#E1E4E6" d="m97.675-1.095 2.614-.277c2.89-.3 5.782-.587 8.674-.87l3.078-.307c20.505-2.023 41.038-3.242 61.619-4.195 13.047-.621 25.987-1.464 38.968-2.947 59.81-6.671 105.846 1.278 153.056 38.85 48.079 38.948 86.316 84.511 93.01 147.608 3.844 39.581 1.459 79.585-1.32 119.153-1.006 14.492-1.661 28.973-2.096 43.493l-.094 3.14c-.155 5.207-.304 10.413-.452 15.619-.9 31.426-2.157 62.825-4.111 94.204-.15 2.429-.293 4.857-.435 7.286-.22 3.752-.46 7.503-.713 11.254a765.67 765.67 0 0 0-.365 5.963c-.817 11.33-3.561 20.337-12.108 28.121-6.1 4.637-12.167 7.246-19.927 7.257l-3.543.02-3.864-.01a2931.868 2931.868 0 0 1-15.453.023c-4.074 0-8.148.011-12.221.02-7.98.017-15.96.023-23.94.024-6.486.001-12.973.005-19.46.012-18.397.017-36.794.026-55.19.025H277.387c-16.088-.001-32.176.018-48.264.046-16.524.029-33.047.042-49.57.04-9.275 0-18.55.006-27.825.027-7.897.018-15.794.023-23.692.009a2036.54 2036.54 0 0 0-12.082.01c-3.692.016-7.383.014-11.074-.004-1.959-.004-3.918.01-5.876.027-10.45-.082-18.566-2.35-26.251-9.6-7.895-8.668-9.05-17.145-8.95-28.543l.01-3.674c.01-3.861.036-7.723.061-11.584.01-2.622.02-5.245.027-7.867.022-6.42.056-12.839.098-19.258l-1.965.027c-6.765.089-13.53.149-20.295.193-2.522.02-5.045.047-7.568.082-3.632.048-7.263.071-10.895.089l-3.403.062C13.367 432.455 9.138 432.157 4 428c-3.345-4.964-4.5-8.147-4.508-14.249l-.019-2.106c-.016-2.312-.003-4.622.01-6.934a1973.509 1973.509 0 0 1-.02-18.518c.01-4.724 0-9.448-.006-14.172-.007-7.932.002-15.864.022-23.796.021-9.164.014-18.326-.008-27.49-.018-7.875-.02-15.75-.01-23.625.006-4.7.007-9.4-.006-14.1a1690.7 1690.7 0 0 1 .02-13.258c.005-1.62.003-3.239-.006-4.858-.01-2.216.003-4.43.023-6.645l.005-3.752c.844-5.87 2.884-9.188 7.486-12.91 5.13-2.552 10.699-2.08 16.294-1.978l3.535.018c3.709.022 7.417.072 11.125.123 2.522.02 5.043.038 7.565.055 6.166.044 12.332.11 18.498.195l-.011-3.33c-.089-26.75-.155-53.5-.196-80.25-.02-12.936-.049-25.872-.095-38.808-.04-11.276-.065-22.553-.074-33.829-.006-5.97-.018-11.939-.047-17.909-.027-5.622-.035-11.244-.03-16.867 0-2.06-.008-4.12-.024-6.18-.094-13.21.013-23.963 9.551-34.073 7.227-6.582 15.059-8.884 24.6-9.85Z" />
                      <path fill="#F15642" d="M25.5 239.492a1722.878 1722.878 0 0 1 16.73-.015c4.41.01 8.82-.005 13.231-.016 8.637-.018 17.274-.014 25.91-.002 7.02.009 14.039.01 21.058.006l3.027-.002 6.088-.004c19.03-.011 38.06.002 57.09.023 16.328.018 32.657.015 48.987-.003a32017.292 32017.292 0 0 1 65.964-.012c7.011.003 14.022-.003 21.033-.012 8.544-.011 17.088-.008 25.631.013 4.36.01 8.719.015 13.078.001 3.991-.012 7.982-.005 11.973.016 1.443.005 2.887.002 4.33-.007 13.436-.084 13.436-.084 19.37 4.522 4.455 4.807 5.125 8.208 5.147 14.647l.011 2.057c.011 2.28.015 4.56.019 6.84l.02 4.898c.021 5.367.031 10.734.041 16.101l.013 5.545c.019 8.683.033 17.367.041 26.051.01 10.02.036 20.04.077 30.06.03 7.748.045 15.495.048 23.242.002 4.626.011 9.251.036 13.877.024 4.355.028 8.709.018 13.063 0 1.595.006 3.19.02 4.784.122 15.134.122 15.134-4.491 21.835-4.994 3.975-8.687 5.124-14.972 5.134l-3.805.014h-4.204a6783.227 6783.227 0 0 1-16.7.028c-4.401.003-8.802.012-13.203.02-10.633.02-21.266.03-31.899.04l-15.015.015a84947.877 84947.877 0 0 1-62.852.044l-3.252.002c-17.39.008-34.78.033-52.17.066-17.847.033-35.693.05-53.54.054-10.023.002-20.046.011-30.07.036-8.534.022-17.068.03-25.603.02-4.355-.004-8.71-.002-13.066.017-3.987.018-7.974.017-11.962.001-1.442-.002-2.884.002-4.326.014C9.45 432.612 9.45 432.612 4 428c-3.655-4.472-4.5-8.465-4.508-14.249l-.019-2.106c-.016-2.312-.003-4.622.01-6.934a1973.508 1973.508 0 0 1-.02-18.518c.01-4.724 0-9.448-.006-14.172-.007-7.932.002-15.864.022-23.796.021-9.164.014-18.326-.008-27.49-.018-7.875-.02-15.75-.01-23.625.006-4.7.007-9.4-.006-14.1a1690.7 1690.7 0 0 1 .02-13.258c.005-1.62.003-3.239-.006-4.858-.01-2.216.003-4.43.023-6.645l.005-3.752c.835-5.806 2.882-9.126 7.347-12.903 5.743-2.842 12.406-2.144 18.656-2.102Z" />
                      <path fill="#B0B7BD" d="M320 0c6.669 5.483 12.714 11.565 18.81 17.665l3.55 3.54c3.196 3.187 6.39 6.378 9.581 9.569l5.985 5.98c6.96 6.95 13.917 13.903 20.872 20.858 6.487 6.489 12.98 12.971 19.476 19.451 5.58 5.566 11.155 11.136 16.727 16.709 3.327 3.328 6.656 6.654 9.99 9.976 3.127 3.118 6.25 6.241 9.369 9.367 1.148 1.15 2.298 2.297 3.45 3.442 1.565 1.558 3.124 3.122 4.681 4.687l2.654 2.653C447 126 447 126 447 128c-12.605.046-25.21.082-37.815.104-5.853.01-11.707.024-17.56.047-5.654.022-11.308.034-16.962.039-2.152.003-4.304.01-6.456.021-3.026.015-6.05.017-9.076.016l-2.668.022c-10.813-.036-19.31-1.812-27.463-9.249-7.603-9.19-9.16-18.147-9.114-29.769v-2.929c0-3.181.008-6.363.016-9.544l.005-6.633c.003-5.81.013-11.62.024-17.43.01-5.932.015-11.864.02-17.797.01-11.632.028-23.265.049-34.898Z" />
                      <path fill="#FEFBFB" d="m170.902 294.797 2.401-.017c1.684-.01 3.368-.016 5.052-.02 2.541-.01 5.082-.04 7.624-.072 15.664-.103 28.39 2.508 40.24 13.44 2.878 3.025 4.91 6.15 6.781 9.872l1.191 2.215c4.984 10.992 4.747 25.829.684 37.098C229.78 368.373 221.556 377.575 210 382c-5.668 1.929-10.729 2.32-16.695 2.336l-2.76.02c-1.914.01-3.828.015-5.743.015-2.925.004-5.85.04-8.775.078-1.866.006-3.731.01-5.597.012l-2.64.043-2.478-.018-2.163.008c-3.294-.757-4.858-2.02-7.149-4.494-.506-2.78-.686-4.955-.647-7.734l-.027-2.347a504.07 504.07 0 0 1 .01-7.669 3264.55 3264.55 0 0 0-.015-5.335c-.007-3.726.004-7.451.027-11.177.029-4.775.012-9.55-.018-14.325-.018-3.671-.012-7.343 0-11.015.004-1.76 0-3.521-.011-5.282-.013-2.461.006-4.92.034-7.382l-.03-2.204c.078-3.773.382-5.235 3.092-7.95 4.317-2.638 7.515-2.755 12.487-2.783Z" />
                      <path fill="#CAD0D7" d="M383 419h1c.109 2.689.188 5.373.25 8.063l.102 2.279c.099 5.741-1.071 8.93-4.352 13.658-4.296 3.981-7.398 5.125-13.18 5.123l-3.269.006-3.605-.009-3.819.003c-3.505.002-7.01-.002-10.514-.007-3.778-.004-7.555-.003-11.332-.002-6.546 0-13.092-.003-19.639-.008-9.464-.008-18.93-.011-28.394-.012-15.356-.002-30.71-.01-46.066-.019-14.918-.009-29.837-.016-44.755-.02h-2.785l-13.834-.005c-38.27-.01-76.539-.028-114.808-.05v-16l4.772-.004a91476.11 91476.11 0 0 0 125.953-.204l2.776-.005c14.832-.031 29.664-.048 44.496-.06 15.22-.013 30.438-.04 45.657-.082 9.391-.025 18.782-.038 28.173-.036 6.44 0 12.88-.015 19.32-.041 3.715-.015 7.43-.023 11.145-.014 4.03.01 8.06-.011 12.091-.035l3.55.023c6.809-.071 11.277-.872 17.067-4.542 1.72-2.021 1.72-2.021 2.5-4.25.3-.706.598-1.413.906-2.14L383 419Z" />
                      <path fill="#C9D0D7" d="M448 127v96c-7.875-6.75-7.875-6.75-11.183-10.056l-2.273-2.264-2.417-2.423-2.604-2.6c-2.336-2.332-4.67-4.666-7.003-7.002-2.446-2.449-4.894-4.895-7.343-7.342-4.102-4.1-8.203-8.204-12.303-12.308-4.744-4.75-9.492-9.496-14.241-14.24a19755.55 19755.55 0 0 1-12.243-12.24c-2.434-2.436-4.87-4.872-7.307-7.305a6904.464 6904.464 0 0 1-8.116-8.124l-2.46-2.454-2.213-2.221-1.94-1.94C353 129 353 129 353 128a3456055.597 3456055.597 0 0 1 85.258-.908l2.652-.029c5.976-.063 5.976-.063 7.09-.063Z" />
                      <path fill="#FEFBFB" d="m83.465 293.797 2.266-.017c1.59-.01 3.18-.016 4.77-.02 2.396-.01 4.792-.04 7.188-.072 12.244-.086 23.764.712 33.311 9.312 8.19 9.966 9.17 19.504 8 32-1.776 7.845-5.579 13.74-12.313 18.188-1.22.623-2.448 1.227-3.687 1.812l-3.293 1.602c-6.323 2.336-13.068 1.712-19.707 1.586-1.36-.016-2.721-.03-4.082-.042A1218.66 1218.66 0 0 1 86 358l.063 1.956c.084 2.931.136 5.862.187 8.794l.102 3.078c.098 7.505.098 7.505-2.153 10.84-3.295 1.996-5.425 1.928-9.199 1.332-3.513-2.686-4.853-4.165-5.628-8.567-.027-1.39-.026-2.782-.003-4.173l-.022-2.313c-.017-2.514.003-5.027.024-7.54 0-1.753-.003-3.505-.007-5.257-.003-3.669.012-7.337.04-11.005.033-4.698.027-9.395.008-14.092-.01-3.617-.001-7.234.014-10.85.005-1.733.005-3.465-.002-5.197-.005-2.422.015-4.843.043-7.266l-.02-2.16c.091-4.782 1.17-7.218 4.553-10.58 3.02-1.51 6.151-1.184 9.465-1.203Z" />
                      <path fill="#FEFBFA" d="m266.554 294.855 2.863-.02 3.103-.003 3.184-.01c2.226-.005 4.453-.007 6.68-.007 3.404-.002 6.808-.02 10.212-.04 2.162-.003 4.324-.005 6.486-.005l3.084-.022 2.892.01 2.532-.005c3.48.357 6.307 1.524 9.222 3.434 1.952 2.978 1.612 5.361 1.188 8.813-2.219 2.907-3.52 3.84-7 5-2.95.085-5.875.116-8.824.098l-2.61-.005a3187.73 3187.73 0 0 1-8.254-.03c-1.865-.006-3.73-.01-5.595-.014-4.573-.01-9.145-.03-13.717-.049v20l7.227-.14c2.323-.032 4.646-.056 6.97-.08 1.608-.02 3.216-.047 4.824-.082 2.319-.049 4.636-.071 6.956-.089l2.16-.062c5.1-.002 7.929 1.266 11.863 4.453 1.779 2.398 2.012 3.519 1.937 6.5-1.3 3.466-2.807 4.527-5.937 6.5-2.924.343-5.453.47-8.363.39l-2.4-.017a662.252 662.252 0 0 1-7.55-.123c-1.711-.02-3.423-.038-5.134-.055-4.185-.044-8.369-.113-12.553-.195l.08 2.675c.085 3.29.147 6.577.195 9.868.025 1.42.059 2.842.102 4.262.061 2.049.09 4.095.111 6.144l.08 3.73c-.728 4.255-2.207 5.697-5.568 8.321-3.5.625-3.5.625-7 0-3.51-2.692-4.853-4.17-5.635-8.574-.03-1.393-.032-2.788-.012-4.182l-.027-2.318c-.021-2.519-.007-5.036.01-7.555-.003-1.754-.008-3.509-.015-5.263-.007-3.673.004-7.345.027-11.018.029-4.707.012-9.413-.018-14.12-.018-3.62-.012-7.242 0-10.863a603.3 603.3 0 0 0-.011-5.206c-.013-2.426.006-4.849.034-7.274l-.03-2.171c.08-3.75.396-5.175 3.092-7.87 3.43-2.104 5.153-2.713 9.139-2.731Z" />
                      <path fill="#F15642" d="M173 311c31.92 0 31.92 0 40.938 8.875 6.553 8.362 7.036 15.592 6.062 26.125-1.52 6.708-3.948 12.293-9 17-12.746 7.748-20.134 5-38 5v-57ZM87 311l12.625-.25 3.948-.11c10.624-.102 10.624-.102 15.427 4.36 3.922 4.334 4.63 7.87 4.39 13.531-.754 4.77-2.86 8.078-6.453 11.344-3.636 2.111-6.581 2.244-10.699 2.223l-3.053-.008-3.873-.027L87 342v-31Z" />
                    </svg>
                  </div>

                  <!-- Text block: defines the height -->
                  <div class="flex-1">
                    <a href="{% url 'publication-details' publication=resolution.type id=resolution.id slug=resolution.slug %}">
                      <h3 class="font-bold text-2xl text-blue-500 underline">{{resolution.type}} No. {{ resolution.number }}</h3>

                      <span class="text-pretty text-justify text-sm italic mb-1 dark:text-gray-400">{{ resolution.date_approved|date:"l, j F Y" }}</span>
                      <p class="font-normal text-lg text-justify text-black dark:text-gray-300">{{ resolution.title }}</p>
                    </a>
                  </div>
                </td>
              </tr>
              {% endif %} {% endfor %} {% endif %}
            </tbody>
          </table>
        </div>
      </div>

      {% endfor %}
    </div>
    <!-- End of Accordion -->

    {% endif %}
  </div>
</main>

{% endblock %}
